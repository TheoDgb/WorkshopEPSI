<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Workshop EPSI</title>
    <!--INCLURE BOOTSTRAP & PLOTLY-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <br>
        <div class="title d-flex justify-content-center">
            CALM or CHAOS
        </div>
        <br>
        <div class="d-flex justify-content-center">
            <button id="startButton" class="btn btn-primary fs-4 mx-2">Start</button>
            <button id="stopButton" class="btn btn-secondary disabled fs-4 mx-2">Stop</button>
        </div>
        <br><br>
        <div class="row">
            <div class="col-12 col-lg-8 d-flex justify-content-center align-items-center" id="game-col">
                <canvas id="gameCanvas" width="800" height="600"></canvas>
            </div>
            <div class="col-12 col-lg-4" id="graph-col">
                <div id="graph"></div>
                <div id="classification"></div>
            </div>
        </div>
    </div>
</body>
</html>
<script type="module">
    import { gameLoop } from './game.js';
    const startButton = document.getElementById('startButton');
    const stopButton = document.getElementById('stopButton');

    startButton.addEventListener('click', function() {
        startButton.classList.add('disabled');
        startButton.classList.remove('btn-primary');
        startButton.classList.add('btn-secondary');
        stopButton.classList.remove('disabled');
        stopButton.classList.remove('btn-secondary');
        stopButton.classList.add('btn-danger');

        // Start the game
        gameLoop();
    });

    stopButton.addEventListener('click', function() {
        stopButton.classList.add('disabled');
        stopButton.classList.remove('btn-danger');
        stopButton.classList.add('btn-secondary');
        startButton.classList.remove('disabled');
        startButton.classList.remove('btn-secondary');
        startButton.classList.add('btn-primary');

        // Stop the game
        //gameStop();
    })
</script>
<script src="/graph.js" type="module"></script>
<script src="/game.js" type="module"></script>
<script src="/malus.js" type="module"></script>
